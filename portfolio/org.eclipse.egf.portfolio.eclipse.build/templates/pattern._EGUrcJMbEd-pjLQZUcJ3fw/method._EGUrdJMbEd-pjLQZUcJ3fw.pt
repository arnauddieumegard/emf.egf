<%SVNLocation svnLocation = ((SVNLocation) scmBuildLocation.getScmLocation());%>
<%String id=new GenerationHelper().getPositionString(scmBuildLocation);%>
	<locator searchPathRef="<%=id%>" <%=new GenerationHelper().getPatternString(scmBuildLocation)%> failOnError="false" />
	<searchPath name="<%=id%>">
	    <!-- provider for windows if checkouted with Hudson -->
		<provider componentTypes="eclipse.feature,osgi.bundle" readerType="local" source="true">
			<uri format="file:/{0}/<%=svnLocation.getLocalPath()%>/<%=scmBuildLocation.getFolderName()%>/{1}<%=new GenerationHelper().getStringIfNotNull(scmBuildLocation.getSuffix())%>">
				<bc:propertyRef key="build.root" />
				<bc:propertyRef key="buckminster.component" />
			</uri>
		</provider>
	    <!-- provider for unix if checkouted with Hudson -->
		<provider componentTypes="eclipse.feature,osgi.bundle" readerType="local" source="true">
			<uri format="file://{0}/<%=svnLocation.getLocalPath()%>/<%=scmBuildLocation.getFolderName()%>/{1}<%=new GenerationHelper().getStringIfNotNull(scmBuildLocation.getSuffix())%>">
				<bc:propertyRef key="build.root" />
				<bc:propertyRef key="buckminster.component" />
			</uri>
		</provider>
	    <!-- standalone provider -->
		<provider componentTypes="eclipse.feature,osgi.bundle" readerType="svn" source="true">
			<uri format="<%=svnLocation.getProtocol().getLiteral()%><%if (svnLocation.getUsername() != null) { %><%=svnLocation.getUsername()%>:<%=svnLocation.getPassword()%>@<%}%><%=svnLocation.getUrl()%>/<%=scmBuildLocation.getFolderName()%>/{0}<%=new GenerationHelper().getStringIfNotNull(scmBuildLocation.getSuffix())%>">
				<bc:propertyRef key="buckminster.component" />
			</uri>
		</provider>
	</searchPath>

