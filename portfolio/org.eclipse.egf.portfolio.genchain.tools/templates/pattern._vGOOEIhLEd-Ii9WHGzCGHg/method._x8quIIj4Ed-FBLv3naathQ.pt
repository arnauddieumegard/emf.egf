		URI ecoreURI = URI.createPlatformPluginURI(parameter.getEmfModelPath(), false);

		EcoreImporter ecoreImporter = new EcoreImporter();
		ecoreImporter.setGenModelContainerPath(containterPath);
		String name = ecoreURI.lastSegment().replace(ECORE_EXT, GENMODEL_EXT);
		ecoreImporter.setGenModelFileName(name);
		ecoreImporter.setModelLocation(ecoreURI.toString());

		try {
			ecoreImporter.computeEPackages(MONITOR);
			ecoreImporter.adjustEPackages(MONITOR);
			ecoreImporter.computeDefaultGenModelFileName();
			ecoreImporter.prepareGenModelAndEPackages(MONITOR);
			EList<GenPackage> genPackages = ecoreImporter.getGenModel().getGenPackages();
			addEPackages(ecoreURI, ecoreImporter, model);

			ecoreImporter.saveGenModelAndEPackages(MONITOR);
			return ecoreImporter;
		} catch (Exception e) {
			throw new RuntimeException(e);
		}
